plugins {
  id 'net.researchgate.release' version '2.7.0'
  id "com.jfrog.bintray" version "1.7"
}

apply plugin: 'java'
apply from: 'quality.gradle'
apply from: 'https://raw.githubusercontent.com/reportportal/gradle-scripts/4.0/release-service.gradle'

sourceCompatibility = 1.6
targetCompatibility = 1.6

description = 'Spock client'
repositories {
  jcenter()
  maven { url "http://dl.bintray.com/epam/reportportal" }
}

dependencies {
  compile 'com.epam.reportportal:client-java:4.0.10'
  compile 'com.epam.reportportal:commons-model:4.2.0'

  compileOnly ('org.spockframework:spock-core:1.1-groovy-2.4')

  testCompile 'org.hamcrest:hamcrest-all:1.3'
  testCompile 'junit:junit:4.12'
  testCompile ('org.spockframework:spock-core:1.1-groovy-2.4')
  testCompile 'org.mockito:mockito-all:2.0.2-beta'
  testCompile 'pl.pragmatists:JUnitParams:1.0.4'
  testCompile 'org.apache.commons:commons-lang3:3.5'
}

tasks.withType(JavaCompile) {
  options.compilerArgs << "-Xlint:unchecked" << "-Xlint:deprecation"
}

javadoc {
  options.memberLevel = JavadocMemberLevel.PACKAGE
}

release {
  preCommitText = "[ci skip]"
  failOnCommitNeeded = false
  failOnPublishNeeded = false
}

task wrapper(type: Wrapper) {
  gradleVersion = '3.0'
}
